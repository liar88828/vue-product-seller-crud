model User {
  id           String        @id @default(uuid())
  email        String        @unique
  name         String?
  phone        String?       @unique
  OTP          String?
  address      String?
  password     String
  createMarket Boolean       @default(false)
  activeOnline Boolean       @default(false)
  // 
  Product      Product[]
  Transaction  Transaction[]
  // Order       Order[]
  MessageList  MessageList[]
  Preview      Preview[]
  // 
  id_market    Int           @unique
  Market       Market        @relation(fields: [id_market], references: [id])
  // 
  Like         Like          @relation(fields: [id_like], references: [id])
  id_like      Int           @unique
  // 
  Trolly       Trolly        @relation(fields: [id_trolly], references: [id])
  id_trolly    Int           @unique
  // 
  Role         Role          @relation(fields: [id_role], references: [id])
  id_role      String
  //
  Follow       Follow        @relation(fields: [id_follow], references: [id])
  id_follow    Int
}

model Trolly {
  id   Int   @id @default(autoincrement())
  // 
  User User?
  Box  Box[]
}

model Like {
  id      Int       @id @default(autoincrement())
  User    User?
  LikeBox LikeBox[]
}

model LikeBox {
  id         Int      @id @default(autoincrement())
  Product    Product? @relation(fields: [id_product], references: [id])
  id_product Int?
  Like       Like?    @relation(fields: [id_like], references: [id])
  id_like    Int?
}

model Preview {
  id         Int      @id @default(autoincrement())
  text       String
  time       DateTime @default(now())
  // 
  id_user    String
  User       User     @relation(fields: [id_user], references: [id])
  // 
  id_product Int?
  Product    Product? @relation(fields: [id_product], references: [id])
}

model Follow {
  id     Int      @id @default(autoincrement())
  User   User[]
  Market Market[]
}
